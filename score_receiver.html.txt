<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Score Receiver</title>
  <script>
    // Esperamos a que cargue la pÃ¡gina
    window.onload = () => {
      // Obtenemos el score desde la URL
      const params = new URLSearchParams(window.location.search);
      const score = params.get("score");

      if (score !== null) {
        // Enviamos el score a la ventana padre (Construct 3)
        window.opener?.postMessage({ type: "score", value: parseInt(score) }, "*");
        window.parent?.postMessage({ type: "score", value: parseInt(score) }, "*");
      }

      // Cerramos esta ventana si fue abierta en _blank
      setTimeout(() => {
        window.close();
      }, 200);
    };
  </script>
</head>
<body>
  Enviando score...
</body>
</html>